
import {
    importAllOnTestStart,
    generateSchedule,
    getCourseNoWsUnmerged
} from "../../FinalExamScheduler.js";
import {waitFor} from '@testing-library/react';
import fs from "fs";
import store from "../../Redux/Slices/store.js";
import 'jsdom-worker';
const testCases = [
    ["ACS 1540 001", 1, 2, "L308"], ["ACS 2740 001", 3, 2, "L304"], ["ACS 3420 001", 4, 0, "L104"], ["ACS 3540 001", 0, 2, "L104"], ["ACS 4640 001", 2, 0, "L308"], ["ACS 4901 001", 1, 0, "L308"], ["ANT 1001 001", 0, 2, "GM308"], ["ANT 1001 002", 1, 2, "GM308"], ["ANT 2020 001", 4, 0, "GM308"], ["ANT 2020 002", 3, 2, "CC121"], ["ARE 2111 111", 1, 0, "CC70"], ["ARE 2111 121", 1, 2, "CC70"], ["ARE 3151 001", 1, 0, "CC43"], ["ARE 3161 001", 2, 2, "CC48"], ["ARE 3441 001", 0, 0, "CC50"], ["ARE 3451 001", 0, 2, "CC43"], ["ARE 3461 801", 1, 0, "CC50"], ["ARE 3821 001", 2, 0, "CC46"], ["ARE 3821 002", 1, 2, "CC45"], ["ARE 4902 111", 2, 0, "CC76E"], ["ARE 4902 121", 2, 0, "CC76W"], ["ARE 5151 001", 0, 2, "CC51"], ["BIE 2410 001", 2, 2, "CC210"], ["BIE 3100 111", 2, 2, "CC70"], ["BIE 3100 112", 2, 2, "CC70"], ["BIE 3100 113", 2, 2, "CC70"], ["BIE 3300 111", 2, 0, "CC210"], ["BIE 3300 112", 2, 0, "CC210"], ["BIE 3400 001", 1, 0, "CC210"], ["BIE 3500 001", 0, 2, "CC244"], ["BIE 4600 111", 0, 2, "CC210"], ["BIE 4600 112", 0, 2, "CC210"], ["BIE 4600 113", 0, 2, "CC210"], ["BIE 4980 001", 0, 0, "CC210"], ["BIE 4980 002", 1, 0, "CC11"], ["BIO 1110 111", 0, 0, "CC47"], ["BIO 1410 111", 3, 0, "CC45"], ["BIO 1420 111", 1, 2, "CC47"], ["BIO 1420 112", 1, 2, "CC47"], ["BIO 2310 111", 1, 0, "CC47"], ["BIO 2310 121", 2, 0, "CC43"], ["BIO 2320 111", 1, 0, "CC62"], ["BIO 2320 112", 1, 0, "CC62"], ["BIO 2510 001", 2, 0, "DH327"], ["BIO 2510 302", 2, 2, "ONLN"], ["BME 3010 001", 2, 0, "DH310"], ["BME 3310 111", 0, 2, "S358"], ["BME 3310 112", 0, 2, "S358"], ["BME 3410 111", 1, 0, "S366"], ["BME 3410 121", 2, 2, "S366"], ["BME 4110 111", 0, 2, "L100"], ["BME 4110 112", 0, 2, "L100"], ["BME 4981 111", 1, 0, "L311"], ["BUS 2010 001", 1, 0, "R103"], ["BUS 2010 002", 1, 2, "R103"], ["BUS 2221 001", 2, 0, "R201"], ["BUS 2221 002", 1, 2, "R300"], ["BUS 2222 001", 2, 0, "R300"], ["BUS 2222 002", 0, 2, "R300"], ["BUS 2225 001", 2, 2, "R202"], ["BUS 2330 301", 0, 2, "ONLN"], ["BUS 2411 001", 1, 0, "R202"], ["BUS 2411 002", 2, 0, "R202"], ["BUS 2411 003", 1, 2, "R202"], ["BUS 2445 001", 0, 0, "R202"], ["BUS 2450 002", 1, 0, "DH110"], ["BUS 2510 811", 2, 0, "R301"], ["BUS 2530 001", 3, 0, "R201"], ["BUS 2530 801", 2, 2, "R300"], ["BUS 2710 001", 3, 0, "R200"], ["BUS 3010 001", 4, 0, "R200"], ["BUS 3420 001", 2, 2, "R103"], ["BUS 3420 301", 1, 0, "ONLN"], ["BUS 3420 302", 3, 0, "ONLN"], ["BUS 3445 001", 1, 2, "R200"], ["BUS 3580 111", 1, 2, "R301"], ["BUS 3593 001", 2, 2, "R201"], ["BUS 3850 001", 1, 2, "R201"], ["BUS 4310 301", 0, 0, "ONLN"], ["BUS 4490 001", 2, 2, "R200"], ["BUS 4560 001", 3, 0, "R300"], ["BUS 4575 001", 2, 2, "R301"], ["BUS 4620 001", 0, 2, "R200"], ["BUS 4680 001", 2, 0, "R103"], ["CAE 1871 001", 0, 0, "CC35"], ["CAE 1871 002", 2, 0, "CC35"], ["CAE 1871 003", 3, 0, "CC35"], ["CAE 1871 004", 1, 2, "CC35"], ["CAE 1871 005", 2, 2, "CC35"], ["CAE 2512 111", 0, 0, "CC51"], ["CAE 2512 121", 1, 0, "CC35"], ["CAE 2512 131", 0, 2, "CC35"], ["CAE 2512 141", 2, 2, "CC62"], ["CAE 2711 111", 0, 0, "CC70"], ["CAE 2711 112", 0, 0, "CC70"], ["CAE 2711 131", 0, 2, "CC70"], ["CAE 2711 132", 0, 2, "CC70"], ["CAE 2711 141", 3, 2, "CC210"], ["CAE 2711 142", 3, 2, "CC210"], ["CAE 3501 001", 3, 2, "CC44"], ["CAE 3511 111", 3, 0, "CC44"], ["CAE 3511 112", 3, 0, "CC44"], ["CAE 3511 121", 3, 0, "CC44"], ["CAE 3521 001", 0, 0, "CC44"], ["CAE 3521 002", 1, 0, "CC45"], ["CAE 3561 001", 2, 0, "CC48"], ["CAE 3561 002", 0, 2, "CC45"], ["CAE 4881 002", 2, 2, "CC46"], ["CHM 1010 111", 3, 0, "S341"], ["CHM 1010 112", 3, 0, "S341"], ["CHM 1010 121", 3, 0, "CC244"], ["CHM 1010 122", 3, 0, "CC244"], ["CHM 1020 111", 0, 2, "CC46"], ["CHM 1020 112", 0, 2, "CC46"], ["CHM 1250 111", 0, 0, "S359"], ["CHM 1250 112", 0, 0, "S359"], ["CHM 1310 111", 2, 0, "S358"], ["CHM 1310 112", 2, 0, "S358"], ["CHM 1310 121", 3, 2, "S325"], ["CHM 3510 111", 3, 0, "R301"], ["CHM 3510 112", 3, 0, "R301"], ["COM 1001 001", 0, 0, "GM02"], ["COM 1001 002", 2, 0, "GM02"], ["COM 1001 003", 2, 2, "CC244"], ["COM 1001 004", 3, 2, "GM02"], ["COM 2001 001", 0, 0, "VT166"], ["COM 2001 002", 0, 0, "GM206"], ["COM 2001 003", 1, 0, "VT166"], ["COM 2001 004", 1, 0, "GM206"], ["COM 2001 005", 3, 0, "CC45"], ["COM 2001 006", 3, 0, "CC51"], ["COM 2001 007", 3, 0, "CC09"], ["COM 2001 008", 3, 0, "CC47"], ["COM 2001 009", 4, 0, "CC11"], ["COM 2001 010", 4, 0, "CC09"], ["COM 2001 011", 4, 0, "GM02"], ["COM 2001 012", 0, 2, "VT166"], ["COM 2001 013", 0, 2, "R301"], ["COM 2001 014", 1, 2, "R102"], ["COM 2001 015", 1, 2, "VT166"], ["COM 2001 016", 1, 2, "GM02"], ["COM 2001 017", 2, 2, "DH129"], ["COM 2001 018", 3, 2, "VT166"], ["COM 3001 001", 0, 2, "CC09"], ["COM 3001 002", 3, 2, "GM206"], ["CON 2001 111", 1, 2, "CC43"], ["CON 3021 111", 2, 0, "CC44"], ["CON 3061 001", 0, 2, "CC62"], ["CON 3071 001", 1, 0, "CC51"], ["CON 4902 111", 2, 0, "CC76E"], ["CON 4902 121", 2, 0, "CC76E"], ["CPE 1500 111", 0, 0, "L310"], ["CPE 1500 121", 2, 0, "L305"], ["CPE 1500 131", 1, 2, "L311"], ["CPE 1510 111", 1, 0, "L310"], ["CPE 1510 112", 1, 0, "L310"], ["CPE 1510 121", 2, 0, "L310"], ["CPE 2610 111", 1, 0, "S365"], ["CPE 2610 121", 3, 0, "S365"], ["CPE 2610 131", 0, 2, "L305"], ["CPE 2610 141", 1, 2, "S365"], ["CPE 3300 111", 0, 0, "L308"], ["CPE 3300 121", 2, 0, "L311"], ["CPE 3300 131", 0, 2, "L311"], ["CPE 4800 111", 3, 0, "L308"], ["CPE 4800 121", 1, 2, "L309"], ["CSC 1110A111", 2, 0, "DH229"], ["CSC 1110A121", 0, 2, "DH229"], ["CSC 1120 111", 1, 0, "DH229"], ["CSC 1120 121", 3, 0, "DH229"], ["CSC 1120 131", 3, 0, "DH449"], ["CSC 1120 141", 1, 2, "DH449"], ["CSC 1120 151", 2, 2, "DH449"], ["CSC 1120A121", 1, 0, "DH449"], ["CSC 1120A131", 2, 0, "DH449"], ["CSC 1120A141", 0, 2, "DH449"], ["CSC 1120A151", 3, 2, "DH449"], ["CSC 1310 111", 0, 0, "DH323"], ["CSC 1310 121", 2, 0, "DH323"], ["CSC 1310 131", 0, 2, "DH323"], ["CSC 2210 001", 2, 0, "DH338"], ["CSC 2210 002", 1, 2, "DH338"], ["CSC 2621 111", 0, 0, "DH344"], ["CSC 2621 121", 2, 0, "DH344"], ["CSC 2621 131", 3, 0, "DH344"], ["CSC 2621 141", 3, 2, "DH344"], ["CSC 3210 002", 0, 2, "DH310"], ["CSC 3210 003", 2, 2, "DH110"], ["CSC 3210 004", 1, 2, "DH129"], ["CSC 3310 001", 1, 0, "DH338"], ["CSC 3310 002", 3, 0, "DH129"], ["CSC 3320 111", 0, 0, "DH210"], ["CSC 3320 121", 2, 0, "DH210"], ["CSC 3320 131", 1, 2, "DH210"], ["CSC 4341 111", 0, 0, "DH449"], ["CSC 4601 111", 1, 0, "DH344"], ["CSC 4601 121", 0, 2, "DH110"], ["CSC 4601 131", 1, 2, "DH344"], ["CSC 4641 001", 2, 0, "DH129"], ["CSC 4801 111", 3, 0, "S341"], ["CSC 4801 121", 3, 0, "S341"], ["CSC 4801 131", 3, 0, "S341"], ["CSC 4980 002", 1, 2, "DH110"], ["CSC 5601 001", 0, 2, "DH110"], ["CVE 3611 001", 3, 2, "CC51"], ["CVE 3661 001", 1, 0, "CC44"], ["CVE 3721 001", 0, 2, "CC44"], ["CVE 3741 001", 0, 0, "CC70"], ["CVE 4902 111", 2, 0, "CC61"], ["CVE 4902 121", 2, 0, "CC61"], ["ELE 2001 111", 0, 0, "S206"], ["ELE 2001 121", 2, 0, "S325"], ["ELE 2001 131", 3, 0, "L309"], ["ELE 2001 141", 0, 2, "S359"], ["ELE 2001 151", 1, 2, "S362"], ["ELE 2001 161", 3, 2, "L310"], ["ELE 2011 001", 0, 0, "DH229"], ["ELE 2011 002", 2, 0, "S362"], ["ELE 2011 003", 3, 0, "S362"], ["ELE 2011 004", 0, 2, "DH338"], ["ELE 2011 005", 1, 2, "CC11"], ["ELE 2011 006", 3, 2, "L305"], ["ELE 2051 001", 1, 0, "DH129"], ["ELE 2051 003", 1, 2, "S210"], ["ELE 2610 111", 0, 0, "S341"], ["ELE 2610 112", 0, 0, "S341"], ["ELE 2610 121", 3, 0, "DH310"], ["ELE 2610 131", 0, 2, "S359"], ["ELE 2610 141", 2, 2, "S107"], ["ELE 3101 111", 2, 0, "S207"], ["ELE 3101 112", 2, 0, "S207"], ["ELE 3201 111", 1, 0, "S358"], ["ELE 3201 121", 1, 2, "S358"], ["ELE 3300 001", 1, 2, "CC62"], ["ELE 3310 001", 2, 0, "any"], ["ELE 3310 002", 0, 2, "DH129"], ["ELE 3320 111", 0, 0, "L309"], ["ELE 3320 121", 3, 0, "S210"], ["ELE 3320 131", 3, 0, "S210"], ["ELE 3320 141", 2, 2, "L104"], ["ELE 3320 151", 3, 2, "L311"], ["ELE 3510 111", 3, 0, "CC62"], ["ELE 3510 112", 3, 0, "CC62"], ["ELE 3510 121", 2, 2, "DH310"], ["ELE 3701 111", 0, 2, "R201"], ["ELE 4142 001", 1, 2, "DH310"], ["ELE 4403 111", 3, 2, "S359"], ["ELE 4630 111", 2, 0, "CC62"], ["ELE 5403 111", 3, 2, "S359"], ["FNA 2002 001", 2, 0, "CC47"], ["FNA 2002 002", 4, 0, "CC47"], ["GER 2001 111", 3, 2, "CC11"], ["GER 4980 002", 0, 2, "CC11"], ["HON 2980 001", 4, 0, "VT168"], ["HST 1015 001", 1, 0, "S210"], ["HST 1015 002", 0, 2, "R102"], ["HST 2015 001", 0, 0, "CC43"], ["HST 2015 002", 3, 0, "GM02"], ["IND 2030 111", 2, 0, "KH212"], ["IND 2700 001", 1, 2, "S260"], ["IND 3210 111", 1, 0, "S260"], ["IND 3210 113", 1, 0, "S260"], ["IND 3410 001", 1, 2, "KH212"], ["IND 3510 002", 2, 0, "S359"], ["IND 3510 004", 2, 2, "S260"], ["IND 3510 005", 3, 2, "S362"], ["IND 3820 301", 0, 2, "ONLN"], ["IND 4410 001", 2, 2, "KH212"], ["IND 4830 311", 3, 2, "ONLN"], ["LIT 1010 001", 1, 0, "GM02"], ["LIT 1010 002", 4, 0, "CC45"], ["LIT 1020 801", 2, 0, "GM02"], ["LIT 2001 001", 2, 0, "GM206"], ["LIT 2001 002", 2, 2, "GM206"], ["MEC 1910 111", 0, 0, "S107"], ["MEC 1910 121", 1, 0, "S107"], ["MEC 1910 131", 1, 0, "S107"], ["MEC 1910 141", 2, 0, "S107"], ["MEC 1910 151", 3, 0, "S107"], ["MEC 1910 161", 0, 2, "S107"], ["MEC 1910 171", 0, 2, "S107"], ["MEC 1910 181", 1, 2, "S107"], ["MEC 1910 185", 2, 2, "S107"], ["MEC 2010 001", 2, 2, "S243"], ["MEC 2020 001", 0, 0, "S243"], ["MEC 2020 002", 1, 0, "S243"], ["MEC 2020 003", 3, 0, "S243"], ["MEC 2020 004", 0, 2, "S243"], ["MEC 2020 005", 1, 2, "S207"], ["MEC 2030 111", 1, 0, "S206"], ["MEC 2030 112", 1, 0, "S206"], ["MEC 2030 113", 1, 0, "S206"], ["MEC 2030 121", 2, 0, "S206"], ["MEC 2030 122", 2, 0, "S206"], ["MEC 2030 123", 2, 0, "S206"], ["MEC 2030 131", 0, 2, "S358"], ["MEC 2030 132", 0, 2, "S358"], ["MEC 2030 133", 0, 2, "S358"], ["MEC 2030 141", 2, 2, "L305"], ["MEC 2030 142", 2, 2, "L305"], ["MEC 2110 001", 0, 0, "S362"], ["MEC 2110 002", 1, 0, "KH212"], ["MEC 2110 003", 3, 0, "CC48"], ["MEC 2110 005", 1, 2, "L305"], ["MEC 3060 002", 1, 0, "S341"], ["MEC 3060 003", 3, 0, "L100"], ["MEC 3060 004", 0, 2, "L310"], ["MEC 3060 005", 2, 2, "L310"], ["MEC 3060 006", 3, 2, "S358"], ["MEC 3120 001", 3, 0, "S206"], ["MEC 3120 002", 2, 2, "L309"], ["MEC 3130 001", 0, 0, "S358"], ["MEC 3130 002", 1, 0, "L305"], ["MEC 3130 003", 2, 0, "S210"], ["MEC 3130 004", 3, 0, "CC43"], ["MEC 3130 005", 0, 2, "CC121"], ["MEC 3140 001", 2, 2, "S210"], ["MEC 3220 111", 0, 0, "S243"], ["MEC 3220 112", 0, 0, "S243"], ["MEC 3220 121", 3, 0, "S358"], ["MEC 3220 122", 3, 0, "S358"], ["MEC 3220 141", 1, 2, "S206"], ["MEC 3220 142", 1, 2, "S206"], ["MEC 3220 143", 1, 2, "S206"], ["MEC 3310 111", 0, 2, "CC53"], ["MEC 3310 112", 0, 2, "CC53"], ["MEC 3320 001", 1, 0, "S359"], ["MEC 3320 002", 3, 0, "S359"], ["MEC 3320 003", 0, 2, "S243"], ["MEC 3320 004", 1, 2, "S359"], ["MEC 3320 005", 2, 2, "L308"], ["MEC 4060 111", 0, 0, "S130"], ["MEC 4270 001", 2, 2, "S358"], ["MEC 4310 111", 1, 2, "CC46"], ["MEC 4310 112", 1, 2, "CC46"], ["MEC 4470 001", 2, 2, "S341"], ["MEC 4673 001", 1, 2, "L310"], ["MEC 4675 001", 0, 2, "S207"], ["MEC 4770 111", 1, 0, "L311"], ["MEC 4770 112", 1, 0, "L311"], ["MEC 4810 111", 0, 2, "S362"], ["MEC 4810 112", 0, 2, "S362"], ["MEC 4871 001", 3, 0, "L305"], ["MEC 4872 001", 1, 0, "S362"], ["MEC 5980 001", 2, 2, "S325"], ["MEC 5980 003", 1, 2, "L310"], ["MTH 1080 001", 0, 0, "L311"], ["MTH 1080 002", 2, 2, "CC51"], ["MTH 1110 001", 1, 0, "L309"], ["MTH 1110 002", 1, 0, "L307"], ["MTH 1110 003", 2, 0, "L307"], ["MTH 1110 004", 2, 0, "CC45"], ["MTH 1110 005", 3, 0, "L307"], ["MTH 1110 006", 3, 0, "L310"], ["MTH 1110 007", 0, 2, "L304"], ["MTH 1110 008", 1, 2, "L104"], ["MTH 1110 009", 2, 2, "L100"], ["MTH 1110 010", 3, 2, "L104"], ["MTH 1120 001", 0, 0, "L104"], ["MTH 1120 002", 1, 0, "L104"], ["MTH 1120 003", 2, 0, "L306"], ["MTH 1120 004", 3, 0, "L306"], ["MTH 1120 005", 0, 2, "L307"], ["MTH 1120 006", 1, 2, "L307"], ["MTH 1120 007", 1, 2, "L306"], ["MTH 1120 008", 2, 2, "L304"], ["MTH 1120 009", 3, 2, "L307"], ["MTH 2130 001", 0, 0, "L100"], ["MTH 2130 002", 2, 0, "L100"], ["MTH 2130 003", 3, 0, "L104"], ["MTH 2130 004", 1, 2, "L100"], ["MTH 2130 005", 2, 2, "L306"], ["MTH 2130 006", 3, 2, "L306"], ["MTH 2140 001", 1, 0, "L304"], ["MTH 2140 002", 2, 0, "L304"], ["MTH 2140 003", 4, 0, "DH110"], ["MTH 2140 004", 2, 2, "L311"], ["MTH 2140 005", 3, 2, "L100"], ["MTH 2140 006", 0, 2, "L306"], ["MTH 2310 001", 2, 0, "L104"], ["MTH 2310 002", 4, 0, "L306"], ["MTH 2310 003", 2, 2, "L307"], ["MTH 2340 001", 0, 0, "L304"], ["MTH 2340 002", 4, 0, "L304"], ["MTH 2340 003", 0, 2, "L309"], ["MTH 2340 004", 2, 2, "L305"], ["MTH 2410 001", 0, 2, "L308"], ["MTH 2450 001", 0, 0, "L307"], ["MTH 2450 002", 3, 0, "L311"], ["MTH 2480 001", 0, 0, "L306"], ["MTH 2480 002", 1, 0, "L306"], ["MTH 2480 003", 2, 0, "L309"], ["MTH 2480 004", 3, 0, "L304"], ["MTH 2480 005", 4, 0, "L100"], ["MTH 2480 007", 1, 2, "L304"], ["MTH 2480 008", 2, 2, "L104"], ["MTH 2480 009", 3, 2, "CC210"], ["MTH 2620 001", 1, 0, "L100"], ["MTH 3340 001", 4, 0, "L307"], ["MTH 4150 001", 3, 0, "L309"], ["NUR 2001 001", 0, 2, "CC118"], ["NUR 2010 111", 3, 0, "CC11"], ["PHL 3101 001", 0, 0, "CC62"], ["PHL 3101 002", 2, 0, "VT166"], ["PHL 3101 003", 2, 2, "GM308"], ["PHL 3101 004", 3, 2, "GM308"], ["PHL 3102 001", 1, 0, "GM308"], ["PHL 3102 002", 3, 0, "DH110"], ["PHL 3102 003", 0, 2, "VT168"], ["PHL 3102 004", 2, 2, "VT166"], ["PHL 3103 001", 1, 0, "S207"], ["PHL 3103 002", 2, 2, "GM02"], ["PHL 3104 001", 2, 0, "CC53"], ["PHL 3104 002", 4, 0, "CC53"], ["PHL 3201 001", 4, 0, "CC48"], ["PHL 3205 001", 0, 0, "GM308"], ["PHL 3205 002", 3, 0, "GM206"], ["PHY 1110 111", 0, 0, "L305"], ["PHY 1110 112", 0, 0, "L305"], ["PHY 1110 121", 1, 0, "CC46"], ["PHY 1110 122", 1, 0, "CC46"], ["PHY 1110 131", 2, 0, "S262"], ["PHY 1110 132", 2, 0, "S262"], ["PHY 1110 141", 3, 0, "S207"], ["PHY 1110 142", 3, 0, "S207"], ["PHY 1110 151", 0, 2, "CC244"], ["PHY 1110 152", 0, 2, "CC244"], ["PHY 1110 161", 1, 2, "S262"], ["PHY 1110 162", 1, 2, "S262"], ["PHY 1110 171", 2, 2, "S207"], ["PHY 1110 172", 2, 2, "S207"], ["PHY 1110 181", 3, 2, "S210"], ["PHY 1110 185", 0, 2, "KH212"], ["PHY 1110 186", 0, 2, "KH212"], ["PHY 1120 111", 0, 0, "S262"], ["PHY 1120 112", 0, 0, "S262"], ["PHY 1120 121", 1, 0, "CC244"], ["PHY 1120 122", 1, 0, "CC244"], ["PHY 1120 131", 3, 0, "S262"], ["PHY 1120 132", 3, 0, "S262"], ["PHY 1120 141", 0, 2, "S262"], ["PHY 1120 142", 0, 2, "S262"], ["PHY 1120 151", 1, 2, "S341"], ["PHY 1120 152", 1, 2, "S341"], ["PHY 1120 161", 2, 2, "S262"], ["PHY 1120 162", 2, 2, "S262"], ["PHY 1120 171", 3, 0, "CC46"], ["PHY 1120 172", 3, 0, "CC46"], ["PHY 1120 181", 1, 0, "S262"], ["PHY 3700 121", 1, 0, "S243"], ["PHY 3700 122", 1, 0, "S243"], ["PHY 3700 131", 2, 0, "S243"], ["PHY 3700 132", 2, 0, "S243"], ["PHY 3700 141", 3, 0, "R202"], ["PHY 3700 151", 0, 2, "S341"], ["PHY 3700 152", 0, 2, "S341"], ["PHY 3700 161", 1, 2, "S243"], ["PHY 3700 162", 1, 2, "S243"], ["PHY 3700 171", 2, 2, "S243"], ["PHY 3700 172", 2, 2, "S243"], ["PSC 2010 001", 0, 0, "CC11"], ["PSC 2010 002", 3, 0, "GM308"], ["PSC 2015 001", 1, 2, "CC09"], ["PSC 2015 002", 3, 2, "CC62"], ["PSY 1001 001", 2, 2, "CC45"], ["PSY 2002 001", 0, 0, "ONLN"], ["PSY 2002 002", 3, 0, "ONLN"], ["PSY 2003 001", 3, 2, "CC45"], ["PSY 2006 001", 3, 0, "CC53"], ["PSY 2006 002", 0, 2, "GM02"], ["PSY 2010 001", 1, 2, "CC51"], ["PSY 2010 002", 2, 2, "CC47"], ["PSY 3003 001", 2, 0, "CC51"], ["PSY 3003 002", 2, 2, "VT168"], ["PSY 3004 001", 2, 0, "CC244"], ["PSY 3004 002", 0, 2, "GM206"], ["SCI 3610 001", 0, 0, "CC48"], ["SOC 1001 001", 4, 0, "GM206"], ["SOC 1001 002", 1, 2, "GM206"], ["SOC 4001 001", 0, 2, "S325"], ["SPN 2001 111", 3, 2, "CC70"], ["SWE 2410 111", 3, 0, "DH210"], ["SWE 2410 121", 0, 2, "DH210"], ["SWE 2710 111", 0, 0, "DH445"], ["SWE 2710 121", 1, 0, "DH445"], ["SWE 2710 131", 1, 2, "DH445"], ["SWE 2710 141", 2, 2, "DH445"], ["SWE 2721 111", 0, 0, "DH129"], ["SWE 2721 121", 3, 2, "DH229"], ["SWE 4981 111", 1, 2, "DH323"], ["TCM 1020 001", 2, 0, "GM308"], ["TCM 2020 801", 2, 2, "VT166"], ["TCM 3020 001", 4, 0, "CC70"], ["TCM 3020 002", 1, 2, "VT168"], ["UXD 1001 001", 2, 0, "VT168"], ["UXD 1001 002", 0, 2, "S210"], ["UXD 1030 001", 1, 0, "VT168"], ["UXD 1040 801", 1, 2, "CC202"], ["UXD 2030 001", 3, 0, "DH338"], ["UXD 2040 001", 1, 2, "DH229"], ["UXD 3030 001", 2, 0, "DH110"], ["UXD 3040 001", 1, 2, "CC153"], ["UXD 3060 801", 2, 2, "CC202"], ["UXD 4030 001", 3, 2, "VT168"],
];
const testImport_Act = async (worker) => {

    const e = {encoding: 'utf8', flag: 'r'};

    //-- Arrange
    await importAllOnTestStart(
        fs.readFileSync(`src/testing/MatrixIntegration/TestFiles/MatrixTestFiles/courseSchedule.txt`, e),
        fs.readFileSync(`src/testing/MatrixIntegration/TestFiles/MatrixTestFiles/classList.txt`, e),
        fs.readFileSync(`src/testing/MatrixIntegration/TestFiles/MatrixTestFiles/rooms.txt`, e),
        fs.readFileSync(`src/testing/MatrixIntegration/TestFiles/MatrixTestFiles/specialCases.txt`, e),
        fs.readFileSync('src/testing/testingWeights.csv', e),
        worker);
}

describe("Matrix Testing", function() {
    // Replaced with Redux Matrix Testing
    it("Automated Matrix Testing with Real File", async () => {
        //-- Arrange
        const code = fs.readFileSync("src/phase2worker.js");
        let worker = new Worker(URL.createObjectURL(new Blob([code])));
        await testImport_Act(worker);

        //-- Act
        await generateSchedule();

        // wait for schedule to be generated
        await waitFor(() => {
            expect(store.getState().progress.progress).toEqual(-1);
        });
        // Assert
        let incorrectCases = [];
        testCases.forEach(testCase => {
            const courseCode = testCase[0];
            const course = getCourseNoWsUnmerged(courseCode);
            if (course === undefined) {
                incorrectCases.push(`Course ${courseCode} was not found in the schedule.`);
            } else {
                const correctDay = course.examDay === testCase[1];
                const correctTime = course.examTime === testCase[2];
                const correctRoom = testCase[3] !== 'any' ? course.examRoom === testCase[3]: true;

                if (!(correctDay)) {
                    incorrectCases.push(`Final Exam for ${courseCode} is scheduled on the wrong day. Expected: ${testCase[1]}, received ${course.examDay}`);
                }
                if (!(correctTime)) {
                    incorrectCases.push(`Final Exam for ${courseCode} is scheduled at the wrong time. Expected: ${testCase[2]}, received ${course.examTime}`);
                }
                if (!(correctRoom)) {
                    incorrectCases.push(`Final Exam for ${courseCode} is scheduled in the wrong room. Expected: ${testCase[3]}, received ${course.examRoom}`);
                }
            }
        });
        if (incorrectCases.length > 0) {
            console.log(incorrectCases);
        }
        // 515 Total Test Cases
        expect(incorrectCases).toHaveLength(0, `${incorrectCases.length} tests were scheduled incorrectly. See above for details.`);
    });
});


